{"filter":false,"title":"index.js","tooltip":"/routes/index.js","undoManager":{"mark":100,"position":100,"stack":[[{"start":{"row":315,"column":9},"end":{"row":315,"column":10},"action":"insert","lines":["l"],"id":3863}],[{"start":{"row":315,"column":10},"end":{"row":315,"column":11},"action":"insert","lines":["e"],"id":3864}],[{"start":{"row":315,"column":11},"end":{"row":315,"column":12},"action":"insert","lines":["."],"id":3865}],[{"start":{"row":315,"column":12},"end":{"row":315,"column":13},"action":"insert","lines":["l"],"id":3866}],[{"start":{"row":315,"column":13},"end":{"row":315,"column":14},"action":"insert","lines":["o"],"id":3867}],[{"start":{"row":315,"column":14},"end":{"row":315,"column":15},"action":"insert","lines":["g"],"id":3868}],[{"start":{"row":315,"column":14},"end":{"row":315,"column":15},"action":"remove","lines":["g"],"id":3869}],[{"start":{"row":315,"column":14},"end":{"row":315,"column":15},"action":"insert","lines":["g"],"id":3870}],[{"start":{"row":315,"column":15},"end":{"row":315,"column":17},"action":"insert","lines":["()"],"id":3871}],[{"start":{"row":315,"column":16},"end":{"row":315,"column":17},"action":"insert","lines":["g"],"id":3872}],[{"start":{"row":315,"column":17},"end":{"row":315,"column":18},"action":"insert","lines":["r"],"id":3873}],[{"start":{"row":315,"column":18},"end":{"row":315,"column":19},"action":"insert","lines":["o"],"id":3874}],[{"start":{"row":315,"column":19},"end":{"row":315,"column":20},"action":"insert","lines":["u"],"id":3875}],[{"start":{"row":315,"column":20},"end":{"row":315,"column":21},"action":"insert","lines":["o"],"id":3876}],[{"start":{"row":315,"column":20},"end":{"row":315,"column":21},"action":"remove","lines":["o"],"id":3877}],[{"start":{"row":315,"column":20},"end":{"row":315,"column":21},"action":"insert","lines":["p"],"id":3878}],[{"start":{"row":315,"column":4},"end":{"row":315,"column":22},"action":"remove","lines":["console.log(group)"],"id":3879}],[{"start":{"row":316,"column":5},"end":{"row":317,"column":0},"action":"insert","lines":["",""],"id":3880},{"start":{"row":317,"column":0},"end":{"row":317,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":317,"column":4},"end":{"row":317,"column":22},"action":"insert","lines":["console.log(group)"],"id":3881}],[{"start":{"row":317,"column":22},"end":{"row":317,"column":23},"action":"insert","lines":[";"],"id":3882}],[{"start":{"row":268,"column":15},"end":{"row":268,"column":16},"action":"insert","lines":["["],"id":3883}],[{"start":{"row":268,"column":16},"end":{"row":268,"column":17},"action":"insert","lines":["]"],"id":3884}],[{"start":{"row":268,"column":17},"end":{"row":268,"column":18},"action":"remove","lines":["\""],"id":3885}],[{"start":{"row":268,"column":16},"end":{"row":268,"column":17},"action":"remove","lines":["]"],"id":3886}],[{"start":{"row":268,"column":15},"end":{"row":268,"column":16},"action":"remove","lines":["["],"id":3887}],[{"start":{"row":268,"column":14},"end":{"row":268,"column":15},"action":"remove","lines":["\""],"id":3888}],[{"start":{"row":268,"column":14},"end":{"row":268,"column":16},"action":"insert","lines":["[]"],"id":3889}],[{"start":{"row":286,"column":0},"end":{"row":290,"column":5},"action":"remove","lines":["    if (ggroup!=\"\") {","        var group=ggroup.toLowerCase();","    } else {","         var group=\"\";","    }"],"id":3890}],[{"start":{"row":285,"column":6},"end":{"row":286,"column":0},"action":"remove","lines":["",""],"id":3891}],[{"start":{"row":300,"column":5},"end":{"row":301,"column":0},"action":"insert","lines":["",""],"id":4010},{"start":{"row":301,"column":0},"end":{"row":301,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":301,"column":4},"end":{"row":302,"column":0},"action":"insert","lines":["",""],"id":4011},{"start":{"row":302,"column":0},"end":{"row":302,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":302,"column":4},"end":{"row":315,"column":5},"action":"insert","lines":[" var usernames = twitter.extractMentions(contentq);","    var i","    for (i = 0; i < usernames.length; i++) { ","    console.log(usernames[i]);","    var newc = contentq.replace(\"@\"+usernames[i],\"<a style=\\\"text-decoration:none; color:#6666ff\\\" href=\\\"/user/\"+usernames[i]+\"\\\">\"+\"@\"+usernames[i]+\"</a>\");","    console.log(newc);","    contentq=newc;","    User.findOne({username:usernames[i]}, function(err, doc) {","        if (err) return next(err);","       doc.notamount=doc.notamount+1;","       doc.notifications.unshift({from: req.user.username, type: \"mention\", redirect:\"/cookie/\"+newid, mini:marked(contentq)});","       doc.save();","    });","    }"],"id":4012}],[{"start":{"row":302,"column":9},"end":{"row":302,"column":18},"action":"remove","lines":["usernames"],"id":4013},{"start":{"row":302,"column":9},"end":{"row":302,"column":10},"action":"insert","lines":["u"]}],[{"start":{"row":302,"column":10},"end":{"row":302,"column":11},"action":"insert","lines":["r"],"id":4014}],[{"start":{"row":302,"column":11},"end":{"row":302,"column":12},"action":"insert","lines":["l"],"id":4015}],[{"start":{"row":302,"column":12},"end":{"row":302,"column":13},"action":"insert","lines":["s"],"id":4016}],[{"start":{"row":304,"column":20},"end":{"row":304,"column":29},"action":"remove","lines":["usernames"],"id":4017},{"start":{"row":304,"column":20},"end":{"row":304,"column":24},"action":"insert","lines":["urls"]}],[{"start":{"row":305,"column":16},"end":{"row":305,"column":25},"action":"remove","lines":["usernames"],"id":4018},{"start":{"row":305,"column":16},"end":{"row":305,"column":20},"action":"insert","lines":["urls"]}],[{"start":{"row":306,"column":36},"end":{"row":306,"column":45},"action":"remove","lines":["usernames"],"id":4019},{"start":{"row":306,"column":36},"end":{"row":306,"column":40},"action":"insert","lines":["urls"]}],[{"start":{"row":309,"column":4},"end":{"row":314,"column":7},"action":"remove","lines":["User.findOne({username:usernames[i]}, function(err, doc) {","        if (err) return next(err);","       doc.notamount=doc.notamount+1;","       doc.notifications.unshift({from: req.user.username, type: \"mention\", redirect:\"/cookie/\"+newid, mini:marked(contentq)});","       doc.save();","    });"],"id":4020}],[{"start":{"row":309,"column":0},"end":{"row":309,"column":4},"action":"remove","lines":["    "],"id":4021}],[{"start":{"row":308,"column":18},"end":{"row":309,"column":0},"action":"remove","lines":["",""],"id":4022}],[{"start":{"row":306,"column":35},"end":{"row":306,"column":36},"action":"remove","lines":["+"],"id":4023}],[{"start":{"row":306,"column":34},"end":{"row":306,"column":35},"action":"remove","lines":["\""],"id":4024}],[{"start":{"row":306,"column":33},"end":{"row":306,"column":34},"action":"remove","lines":["@"],"id":4025}],[{"start":{"row":306,"column":32},"end":{"row":306,"column":33},"action":"remove","lines":["\""],"id":4026}],[{"start":{"row":306,"column":104},"end":{"row":306,"column":105},"action":"remove","lines":["+"],"id":4027}],[{"start":{"row":306,"column":103},"end":{"row":306,"column":104},"action":"remove","lines":["\""],"id":4028}],[{"start":{"row":306,"column":102},"end":{"row":306,"column":103},"action":"remove","lines":["/"],"id":4029}],[{"start":{"row":306,"column":101},"end":{"row":306,"column":102},"action":"remove","lines":["r"],"id":4030}],[{"start":{"row":306,"column":100},"end":{"row":306,"column":101},"action":"remove","lines":["e"],"id":4031}],[{"start":{"row":306,"column":99},"end":{"row":306,"column":100},"action":"remove","lines":["s"],"id":4032}],[{"start":{"row":306,"column":98},"end":{"row":306,"column":99},"action":"remove","lines":["u"],"id":4033}],[{"start":{"row":306,"column":97},"end":{"row":306,"column":98},"action":"remove","lines":["/"],"id":4034}],[{"start":{"row":306,"column":97},"end":{"row":306,"column":98},"action":"insert","lines":["+"],"id":4035}],[{"start":{"row":306,"column":98},"end":{"row":306,"column":99},"action":"insert","lines":["\""],"id":4036}],[{"start":{"row":306,"column":99},"end":{"row":306,"column":108},"action":"remove","lines":["usernames"],"id":4037},{"start":{"row":306,"column":99},"end":{"row":306,"column":103},"action":"insert","lines":["urls"]}],[{"start":{"row":306,"column":128},"end":{"row":306,"column":129},"action":"remove","lines":["]"],"id":4038}],[{"start":{"row":306,"column":127},"end":{"row":306,"column":128},"action":"remove","lines":["i"],"id":4039}],[{"start":{"row":306,"column":126},"end":{"row":306,"column":127},"action":"remove","lines":["["],"id":4040}],[{"start":{"row":306,"column":125},"end":{"row":306,"column":126},"action":"remove","lines":["s"],"id":4041}],[{"start":{"row":306,"column":124},"end":{"row":306,"column":125},"action":"remove","lines":["e"],"id":4042}],[{"start":{"row":306,"column":123},"end":{"row":306,"column":124},"action":"remove","lines":["m"],"id":4043}],[{"start":{"row":306,"column":122},"end":{"row":306,"column":123},"action":"remove","lines":["a"],"id":4044}],[{"start":{"row":306,"column":121},"end":{"row":306,"column":122},"action":"remove","lines":["n"],"id":4045}],[{"start":{"row":306,"column":120},"end":{"row":306,"column":121},"action":"remove","lines":["r"],"id":4046}],[{"start":{"row":306,"column":119},"end":{"row":306,"column":120},"action":"remove","lines":["e"],"id":4047}],[{"start":{"row":306,"column":118},"end":{"row":306,"column":119},"action":"remove","lines":["s"],"id":4048}],[{"start":{"row":306,"column":117},"end":{"row":306,"column":118},"action":"remove","lines":["u"],"id":4049}],[{"start":{"row":306,"column":116},"end":{"row":306,"column":117},"action":"remove","lines":["+"],"id":4050}],[{"start":{"row":306,"column":116},"end":{"row":306,"column":117},"action":"insert","lines":["+"],"id":4051}],[{"start":{"row":306,"column":117},"end":{"row":306,"column":121},"action":"insert","lines":["urls"],"id":4052}],[{"start":{"row":306,"column":121},"end":{"row":306,"column":122},"action":"insert","lines":["["],"id":4053}],[{"start":{"row":306,"column":122},"end":{"row":306,"column":123},"action":"insert","lines":["1"],"id":4054}],[{"start":{"row":306,"column":123},"end":{"row":306,"column":124},"action":"insert","lines":["]"],"id":4055}],[{"start":{"row":306,"column":123},"end":{"row":306,"column":124},"action":"remove","lines":["]"],"id":4056}],[{"start":{"row":306,"column":122},"end":{"row":306,"column":123},"action":"remove","lines":["1"],"id":4057}],[{"start":{"row":306,"column":121},"end":{"row":306,"column":122},"action":"remove","lines":["["],"id":4058}],[{"start":{"row":306,"column":121},"end":{"row":306,"column":122},"action":"insert","lines":["["],"id":4059}],[{"start":{"row":306,"column":122},"end":{"row":306,"column":123},"action":"insert","lines":["i"],"id":4060}],[{"start":{"row":306,"column":123},"end":{"row":306,"column":124},"action":"insert","lines":["]"],"id":4061}],[{"start":{"row":306,"column":98},"end":{"row":306,"column":99},"action":"remove","lines":["\""],"id":4062}],[{"start":{"row":306,"column":97},"end":{"row":306,"column":98},"action":"remove","lines":["+"],"id":4063}],[{"start":{"row":306,"column":97},"end":{"row":306,"column":98},"action":"insert","lines":["\""],"id":4064}],[{"start":{"row":306,"column":98},"end":{"row":306,"column":99},"action":"insert","lines":["+"],"id":4065}],[{"start":{"row":302,"column":31},"end":{"row":302,"column":39},"action":"remove","lines":["Mentions"],"id":4066},{"start":{"row":302,"column":31},"end":{"row":302,"column":32},"action":"insert","lines":["U"]}],[{"start":{"row":302,"column":32},"end":{"row":302,"column":33},"action":"insert","lines":["R"],"id":4067}],[{"start":{"row":302,"column":33},"end":{"row":302,"column":34},"action":"insert","lines":["L"],"id":4068}],[{"start":{"row":302,"column":34},"end":{"row":302,"column":35},"action":"insert","lines":["s"],"id":4069}],[{"start":{"row":302,"column":33},"end":{"row":302,"column":34},"action":"remove","lines":["L"],"id":4070}],[{"start":{"row":302,"column":32},"end":{"row":302,"column":33},"action":"remove","lines":["R"],"id":4071}],[{"start":{"row":302,"column":32},"end":{"row":302,"column":33},"action":"insert","lines":["r"],"id":4072}],[{"start":{"row":302,"column":33},"end":{"row":302,"column":34},"action":"insert","lines":["l"],"id":4073}],[{"start":{"row":306,"column":116},"end":{"row":306,"column":117},"action":"remove","lines":["+"],"id":4074}],[{"start":{"row":306,"column":115},"end":{"row":306,"column":116},"action":"remove","lines":["\""],"id":4075}],[{"start":{"row":306,"column":114},"end":{"row":306,"column":115},"action":"remove","lines":["@"],"id":4076}],[{"start":{"row":306,"column":113},"end":{"row":306,"column":114},"action":"remove","lines":["\""],"id":4077}],[{"start":{"row":302,"column":24},"end":{"row":302,"column":36},"action":"remove","lines":["extractUrls("],"id":4078},{"start":{"row":302,"column":24},"end":{"row":302,"column":35},"action":"insert","lines":["extractUrls"]}],[{"start":{"row":302,"column":35},"end":{"row":302,"column":36},"action":"insert","lines":["("],"id":4079}],[{"start":{"row":301,"column":0},"end":{"row":309,"column":5},"action":"remove","lines":["    ","     var urls = twitter.extractUrls(contentq);","    var i","    for (i = 0; i < urls.length; i++) { ","    console.log(urls[i]);","    var newc = contentq.replace(urls[i],\"<a style=\\\"text-decoration:none; color:#6666ff\\\" href=\\\"\"+urls[i]+\"\\\">\"+urls[i]+\"</a>\");","    console.log(newc);","    contentq=newc;","    }"],"id":4080}],[{"start":{"row":300,"column":5},"end":{"row":301,"column":0},"action":"remove","lines":["",""],"id":4081}]]},"ace":{"folds":[],"scrolltop":4340.5,"scrollleft":0,"selection":{"start":{"row":300,"column":5},"end":{"row":300,"column":5},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":288,"state":"no_regex","mode":"ace/mode/javascript"}},"timestamp":1456698635000,"hash":"e2f76ec953253f77b5cc3113e613fa936c32bf66"}